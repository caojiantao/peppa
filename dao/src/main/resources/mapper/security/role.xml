<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<!-- namespace用作标识mapper的唯一，通常包名+文件名 -->
<mapper namespace="com.cjt.dao.security.IRoleDAO">
  <resultMap id="roleMap" type="com.cjt.entity.admin.security.Role">
    <id column="id" property="id"/>
    <result column="name" property="name"/>
  </resultMap>

  <select id="listRoleByUserId" resultMap="roleMap" parameterType="long">
    SELECT
      `id`,
      `name`
    FROM
      role
    WHERE
      id IN (
        SELECT role_id
        FROM
          user_roles
        WHERE
          user_id = #{userId}
      )
  </select>
</mapper>